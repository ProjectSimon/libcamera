<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcamera: libcamera::ipa::CameraSensorHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcamera
   &#160;<span id="projectnumber">v0.3.2+rpt20241101+7-aa9d3ab4</span>
   </div>
   <div id="projectbrief">Supporting cameras in Linux since 2019</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="namespacelibcamera_1_1ipa.html">ipa</a></li><li class="navelem"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html">CameraSensorHelper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classlibcamera_1_1ipa_1_1CameraSensorHelper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">libcamera::ipa::CameraSensorHelper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for computing sensor tuning parameters using sensor-specific constants.  
 <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for libcamera::ipa::CameraSensorHelper:</div>
<div class="dyncontent">
<div class="center"><img src="classlibcamera_1_1ipa_1_1CameraSensorHelper__coll__graph.png" border="0" usemap="#alibcamera_1_1ipa_1_1CameraSensorHelper_coll__map" alt="Collaboration graph"/></div>
<map name="alibcamera_1_1ipa_1_1CameraSensorHelper_coll__map" id="alibcamera_1_1ipa_1_1CameraSensorHelper_coll__map">
<area shape="rect" title="Base class for computing sensor tuning parameters using sensor&#45;specific constants." alt="" coords="747,39,965,80"/>
<area shape="rect" href="unionlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainConstants.html" title="Analogue gain model constants." alt="" coords="364,39,593,80"/>
<area shape="rect" href="structlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainLinearConstants.html" title="Analogue gain constants for the linear gain model." alt="" coords="5,5,275,47"/>
<area shape="rect" href="structlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainExpConstants.html" title="Analogue gain constants for the exponential gain model." alt="" coords="13,71,267,112"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainConstants.html">AnalogueGainConstants</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogue gain model constants.  <a href="unionlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainConstants.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainExpConstants.html">AnalogueGainExpConstants</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogue gain constants for the exponential gain model.  <a href="structlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainExpConstants.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainLinearConstants.html">AnalogueGainLinearConstants</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analogue gain constants for the linear gain model.  <a href="structlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainLinearConstants.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5e05b95f37bb7bec22bc805bda51589"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ae5e05b95f37bb7bec22bc805bda51589">CameraSensorHelper</a> ()=default</td></tr>
<tr class="memdesc:ae5e05b95f37bb7bec22bc805bda51589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html" title="Base class for computing sensor tuning parameters using sensor-specific constants.">CameraSensorHelper</a> instance.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ae5e05b95f37bb7bec22bc805bda51589">More...</a><br /></td></tr>
<tr class="separator:ae5e05b95f37bb7bec22bc805bda51589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d462fc5828e841563289eef22d3174"><td class="memItemLeft" align="right" valign="top">std::optional&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ad6d462fc5828e841563289eef22d3174">blackLevel</a> () const</td></tr>
<tr class="memdesc:ad6d462fc5828e841563289eef22d3174"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the black level of the sensor.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ad6d462fc5828e841563289eef22d3174">More...</a><br /></td></tr>
<tr class="separator:ad6d462fc5828e841563289eef22d3174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3fd0e1267fb455ba23ec3f1a96c41b"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5c3fd0e1267fb455ba23ec3f1a96c41b">gainCode</a> (double <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ae443ef2db6e3e5087cbb2fcd210b330b">gain</a>) const</td></tr>
<tr class="memdesc:a5c3fd0e1267fb455ba23ec3f1a96c41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute gain code from the analogue gain absolute value.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5c3fd0e1267fb455ba23ec3f1a96c41b">More...</a><br /></td></tr>
<tr class="separator:a5c3fd0e1267fb455ba23ec3f1a96c41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae443ef2db6e3e5087cbb2fcd210b330b"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ae443ef2db6e3e5087cbb2fcd210b330b">gain</a> (uint32_t <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5c3fd0e1267fb455ba23ec3f1a96c41b">gainCode</a>) const</td></tr>
<tr class="memdesc:ae443ef2db6e3e5087cbb2fcd210b330b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the real gain from the V4L2 subdev control gain code.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ae443ef2db6e3e5087cbb2fcd210b330b">More...</a><br /></td></tr>
<tr class="separator:ae443ef2db6e3e5087cbb2fcd210b330b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a5e98b239b344a4e8b87c74f38b1d9601"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5e98b239b344a4e8b87c74f38b1d9601">AnalogueGainType</a> { <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5e98b239b344a4e8b87c74f38b1d9601a6b89732ae75580fccbf9e979595fb7d0">AnalogueGainLinear</a>
, <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5e98b239b344a4e8b87c74f38b1d9601a71702ed14feb59a12a4167954352d134">AnalogueGainExponential</a>
 }</td></tr>
<tr class="memdesc:a5e98b239b344a4e8b87c74f38b1d9601"><td class="mdescLeft">&#160;</td><td class="mdescRight">The gain calculation modes as defined by the MIPI CCS.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5e98b239b344a4e8b87c74f38b1d9601">More...</a><br /></td></tr>
<tr class="separator:a5e98b239b344a4e8b87c74f38b1d9601"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a44159cca9daade1411af09dcf01c511f"><td class="memItemLeft" align="right" valign="top">std::optional&lt; int16_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a44159cca9daade1411af09dcf01c511f">blackLevel_</a></td></tr>
<tr class="memdesc:a44159cca9daade1411af09dcf01c511f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The black level of the sensor.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a44159cca9daade1411af09dcf01c511f">More...</a><br /></td></tr>
<tr class="separator:a44159cca9daade1411af09dcf01c511f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c8ddf2db7c6c2f97ff192840ae0ebe"><td class="memItemLeft" align="right" valign="top"><a id="af9c8ddf2db7c6c2f97ff192840ae0ebe"></a>
<a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5e98b239b344a4e8b87c74f38b1d9601">AnalogueGainType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#af9c8ddf2db7c6c2f97ff192840ae0ebe">gainType_</a></td></tr>
<tr class="memdesc:af9c8ddf2db7c6c2f97ff192840ae0ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogue gain model type. <br /></td></tr>
<tr class="separator:af9c8ddf2db7c6c2f97ff192840ae0ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe1a93add29e25bf72cf9202581d9e86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="unionlibcamera_1_1ipa_1_1CameraSensorHelper_1_1AnalogueGainConstants.html">AnalogueGainConstants</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#afe1a93add29e25bf72cf9202581d9e86">gainConstants_</a></td></tr>
<tr class="memdesc:afe1a93add29e25bf72cf9202581d9e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogue gain parameters used for calculation.  <a href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#afe1a93add29e25bf72cf9202581d9e86">More...</a><br /></td></tr>
<tr class="separator:afe1a93add29e25bf72cf9202581d9e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for computing sensor tuning parameters using sensor-specific constants. </p>
<p>Instances derived from <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html" title="Base class for computing sensor tuning parameters using sensor-specific constants.">CameraSensorHelper</a> class are sensor-specific. Each supported sensor will have an associated base class defined. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5e98b239b344a4e8b87c74f38b1d9601"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e98b239b344a4e8b87c74f38b1d9601">&#9670;&nbsp;</a></span>AnalogueGainType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5e98b239b344a4e8b87c74f38b1d9601">libcamera::ipa::CameraSensorHelper::AnalogueGainType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The gain calculation modes as defined by the MIPI CCS. </p>
<p>Describes the image sensor analogue gain capabilities. Two modes are possible, depending on the sensor: Linear and Exponential. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5e98b239b344a4e8b87c74f38b1d9601a6b89732ae75580fccbf9e979595fb7d0"></a>AnalogueGainLinear&#160;</td><td class="fielddoc"><p>Gain is computed using linear gain estimation. </p>
<p>The relationship between the integer gain parameter and the resulting gain multiplier is given by the following equation:</p>
<p><img class="formulaInl" alt="$gain=\frac{m0x+c0}{m1x+c1}$" src="form_0.png" width="81" height="18"/></p>
<p>Where 'x' is the gain control parameter, and m0, m1, c0 and c1 are image-sensor-specific constants of the sensor. These constants are static parameters, and for any given image sensor either m0 or m1 shall be zero.</p>
<p>The full Gain equation therefore reduces to either:</p>
<p><img class="formulaInl" alt="$gain=\frac{c0}{m1x+c1}$" src="form_1.png" width="81" height="18"/> or <img class="formulaInl" alt="$\frac{m0x+c0}{c1}$" src="form_2.png" width="39" height="16"/> </p>
</td></tr>
<tr><td class="fieldname"><a id="a5e98b239b344a4e8b87c74f38b1d9601a71702ed14feb59a12a4167954352d134"></a>AnalogueGainExponential&#160;</td><td class="fielddoc"><p>Gain is expressed using an exponential model. </p>
<p>The relationship between the integer gain parameter and the resulting gain multiplier is given by the following equation:</p>
<p><img class="formulaInl" alt="$gain = a \cdot 2^{m \cdot x}$" src="form_3.png" width="81" height="11"/></p>
<p>Where 'x' is the gain control parameter, and 'a' and 'm' are image sensor-specific constants.</p>
<p>This is a subset of the MIPI CCS exponential gain model with the linear factor 'a' being a constant, but with the exponent being configurable through the 'm' coefficient.</p>
<p>When the gain is expressed in dB, 'a' is equal to 1 and 'm' to <img class="formulaInl" alt="$log_{2}{10^{\frac{1}{20}}}$" src="form_4.png" width="44" height="15"/>. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae5e05b95f37bb7bec22bc805bda51589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e05b95f37bb7bec22bc805bda51589">&#9670;&nbsp;</a></span>CameraSensorHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::ipa::CameraSensorHelper::CameraSensorHelper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html" title="Base class for computing sensor tuning parameters using sensor-specific constants.">CameraSensorHelper</a> instance. </p>
<p><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html" title="Base class for computing sensor tuning parameters using sensor-specific constants.">CameraSensorHelper</a> derived class instances shall never be constructed manually but always through the <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelperFactoryBase.html#a5ba8184bb2edf7858c72ed265f10145f" title="Create an instance of the CameraSensorHelper corresponding to a named factory.">CameraSensorHelperFactoryBase::create()</a> function. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad6d462fc5828e841563289eef22d3174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d462fc5828e841563289eef22d3174">&#9670;&nbsp;</a></span>blackLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::ipa::CameraSensorHelper::blackLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the black level of the sensor. </p>
<p>This function returns the black level of the sensor scaled to a 16bit pixel width. If it is unknown an empty optional is returned.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Fill the blanks and add pedestal values for all supported sensors. Once done, drop the std::optional&lt;&gt;.</dd></dl>
<p>Black levels are typically the result of the following phenomena:</p><ul>
<li>Pedestal added by the sensor to pixel values. They are typically fixed, sometimes programmable and should be reported in datasheets (but documentation is not always available).</li>
<li>Dark currents and other physical effects that add charge to pixels in the absence of light. Those can depend on the integration time and the sensor die temperature, and their contribution to pixel values depend on the sensor gains.</li>
</ul>
<p>The pedestal is usually the value with the biggest contribution to the overall black level. In most cases it is either known before or in rare cases (there is not a single driver with such a control in the linux kernel) can be queried from the sensor. This function provides that fixed, known value.</p>
<dl class="section return"><dt>Returns</dt><dd>The black level of the sensor, or std::nullopt if not known </dd></dl>

</div>
</div>
<a id="ae443ef2db6e3e5087cbb2fcd210b330b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae443ef2db6e3e5087cbb2fcd210b330b">&#9670;&nbsp;</a></span>gain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double libcamera::ipa::CameraSensorHelper::gain </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gainCode</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the real gain from the V4L2 subdev control gain code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gainCode</td><td>The V4L2 subdev control gain</td></tr>
  </table>
  </dd>
</dl>
<p>This function aims to abstract the calculation of the gain letting the IPA use the real gain for its estimations. It is the counterpart of the function <a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#a5c3fd0e1267fb455ba23ec3f1a96c41b" title="Compute gain code from the analogue gain absolute value.">CameraSensorHelper::gainCode</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>The real gain </dd></dl>

</div>
</div>
<a id="a5c3fd0e1267fb455ba23ec3f1a96c41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c3fd0e1267fb455ba23ec3f1a96c41b">&#9670;&nbsp;</a></span>gainCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t libcamera::ipa::CameraSensorHelper::gainCode </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gain</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute gain code from the analogue gain absolute value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gain</td><td>The real gain to pass</td></tr>
  </table>
  </dd>
</dl>
<p>This function aims to abstract the calculation of the gain letting the IPA use the real gain for its estimations.</p>
<dl class="section return"><dt>Returns</dt><dd>The gain code to pass to V4L2 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a44159cca9daade1411af09dcf01c511f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44159cca9daade1411af09dcf01c511f">&#9670;&nbsp;</a></span>blackLevel_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::ipa::CameraSensorHelper::blackLevel_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The black level of the sensor. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classlibcamera_1_1ipa_1_1CameraSensorHelper.html#ad6d462fc5828e841563289eef22d3174" title="Fetch the black level of the sensor.">CameraSensorHelper::blackLevel()</a> </dd></dl>

</div>
</div>
<a id="afe1a93add29e25bf72cf9202581d9e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe1a93add29e25bf72cf9202581d9e86">&#9670;&nbsp;</a></span>gainConstants_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::ipa::CameraSensorHelper::gainConstants_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The analogue gain parameters used for calculation. </p>
<p>The analogue gain is calculated through a formula, and its parameters are sensor specific. Use this variable to store the values at init time. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ipa/libipa/<a class="el" href="camera__sensor__helper_8h_source.html">camera_sensor_helper.h</a></li>
<li>src/ipa/libipa/camera_sensor_helper.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
