<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcamera: libcamera::CameraManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcamera
   &#160;<span id="projectnumber">v0.3.2+rpt20241101+7-aa9d3ab4</span>
   </div>
   <div id="projectbrief">Supporting cameras in Linux since 2019</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="classlibcamera_1_1CameraManager.html">CameraManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classlibcamera_1_1CameraManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">libcamera::CameraManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provide access and manage all cameras in the system.  
 <a href="classlibcamera_1_1CameraManager.html#details">More...</a></p>

<p>Inherits Object, and Extensible.</p>
<div class="dynheader">
Collaboration diagram for libcamera::CameraManager:</div>
<div class="dyncontent">
<div class="center"><img src="classlibcamera_1_1CameraManager__coll__graph.png" border="0" usemap="#alibcamera_1_1CameraManager_coll__map" alt="Collaboration graph"/></div>
<map name="alibcamera_1_1CameraManager_coll__map" id="alibcamera_1_1CameraManager_coll__map">
<area shape="rect" title="Provide access and manage all cameras in the system." alt="" coords="5,139,208,165"/>
<area shape="rect" title=" " alt="" coords="5,5,208,61"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae8647ec4748314069fbc5e0ee3c3e74b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#ae8647ec4748314069fbc5e0ee3c3e74b">~CameraManager</a> ()</td></tr>
<tr class="memdesc:ae8647ec4748314069fbc5e0ee3c3e74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the camera manager.  <a href="classlibcamera_1_1CameraManager.html#ae8647ec4748314069fbc5e0ee3c3e74b">More...</a><br /></td></tr>
<tr class="separator:ae8647ec4748314069fbc5e0ee3c3e74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e322880a2a26013bb0076788b298c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#a49e322880a2a26013bb0076788b298c5">start</a> ()</td></tr>
<tr class="memdesc:a49e322880a2a26013bb0076788b298c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the camera manager.  <a href="classlibcamera_1_1CameraManager.html#a49e322880a2a26013bb0076788b298c5">More...</a><br /></td></tr>
<tr class="separator:a49e322880a2a26013bb0076788b298c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf2a1b9ca720891e6bd83b3c542bb61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#abcf2a1b9ca720891e6bd83b3c542bb61">stop</a> ()</td></tr>
<tr class="memdesc:abcf2a1b9ca720891e6bd83b3c542bb61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the camera manager.  <a href="classlibcamera_1_1CameraManager.html#abcf2a1b9ca720891e6bd83b3c542bb61">More...</a><br /></td></tr>
<tr class="separator:abcf2a1b9ca720891e6bd83b3c542bb61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b20427687e9920b256625838bea8f9a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1Camera.html">Camera</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#a3b20427687e9920b256625838bea8f9a">cameras</a> () const</td></tr>
<tr class="memdesc:a3b20427687e9920b256625838bea8f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all available cameras.  <a href="classlibcamera_1_1CameraManager.html#a3b20427687e9920b256625838bea8f9a">More...</a><br /></td></tr>
<tr class="separator:a3b20427687e9920b256625838bea8f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8bfe0d85cedf2ec5c4549d05de7f09"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1Camera.html">Camera</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#abd8bfe0d85cedf2ec5c4549d05de7f09">get</a> (const std::string &amp;id)</td></tr>
<tr class="memdesc:abd8bfe0d85cedf2ec5c4549d05de7f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a camera based on ID.  <a href="classlibcamera_1_1CameraManager.html#abd8bfe0d85cedf2ec5c4549d05de7f09">More...</a><br /></td></tr>
<tr class="separator:abd8bfe0d85cedf2ec5c4549d05de7f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a491b49c074dfc3c55e791b2b63437011"><td class="memItemLeft" align="right" valign="top">static const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#a491b49c074dfc3c55e791b2b63437011">version</a> ()</td></tr>
<tr class="memdesc:a491b49c074dfc3c55e791b2b63437011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the libcamera version string.  <a href="classlibcamera_1_1CameraManager.html#a491b49c074dfc3c55e791b2b63437011">More...</a><br /></td></tr>
<tr class="separator:a491b49c074dfc3c55e791b2b63437011"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6c2071f9f9228348b5943c0de7234b21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcamera_1_1Signal.html">Signal</a>&lt; std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1Camera.html">Camera</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#a6c2071f9f9228348b5943c0de7234b21">cameraAdded</a></td></tr>
<tr class="memdesc:a6c2071f9f9228348b5943c0de7234b21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify of a new camera added to the system.  <a href="classlibcamera_1_1CameraManager.html#a6c2071f9f9228348b5943c0de7234b21">More...</a><br /></td></tr>
<tr class="separator:a6c2071f9f9228348b5943c0de7234b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710506c6dde09353c702537cf6106b90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcamera_1_1Signal.html">Signal</a>&lt; std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1Camera.html">Camera</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1CameraManager.html#a710506c6dde09353c702537cf6106b90">cameraRemoved</a></td></tr>
<tr class="memdesc:a710506c6dde09353c702537cf6106b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify of a new camera removed from the system.  <a href="classlibcamera_1_1CameraManager.html#a710506c6dde09353c702537cf6106b90">More...</a><br /></td></tr>
<tr class="separator:a710506c6dde09353c702537cf6106b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provide access and manage all cameras in the system. </p>
<p>The camera manager is the entry point to libcamera. It enumerates devices, associates them with pipeline managers, and provides access to the cameras in the system to applications. The manager owns all <a class="el" href="classlibcamera_1_1Camera.html" title="Camera device.">Camera</a> objects and handles hot-plugging and hot-unplugging to manage the lifetime of cameras.</p>
<p>To interact with libcamera, an application starts by creating a camera manager instance. Only a single instance of the camera manager may exist at a time. Attempting to create a second instance without first deleting the existing instance results in undefined behaviour.</p>
<p>The manager is initially stopped, and shall be started with <a class="el" href="classlibcamera_1_1CameraManager.html#a49e322880a2a26013bb0076788b298c5" title="Start the camera manager.">start()</a>. This will enumerate all the cameras present in the system, which can then be listed with list() and retrieved with <a class="el" href="classlibcamera_1_1CameraManager.html#abd8bfe0d85cedf2ec5c4549d05de7f09" title="Get a camera based on ID.">get()</a>.</p>
<p>Cameras are shared through std::shared_ptr&lt;&gt;, ensuring that a camera will stay valid until the last reference is released without requiring any special action from the application. Once the application has released all the references it held to cameras, the camera manager can be stopped with <a class="el" href="classlibcamera_1_1CameraManager.html#abcf2a1b9ca720891e6bd83b3c542bb61" title="Stop the camera manager.">stop()</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae8647ec4748314069fbc5e0ee3c3e74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8647ec4748314069fbc5e0ee3c3e74b">&#9670;&nbsp;</a></span>~CameraManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::CameraManager::~CameraManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the camera manager. </p>
<p>Destroying the camera manager stops it if it is currently running. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3b20427687e9920b256625838bea8f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b20427687e9920b256625838bea8f9a">&#9670;&nbsp;</a></span>cameras()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1Camera.html">Camera</a> &gt; &gt; libcamera::CameraManager::cameras </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve all available cameras. </p>
<p>Before calling this function the caller is responsible for ensuring that the camera manager is running.</p>
<dl class="context"><dt><b><a class="el" href="context.html#_context000019">Thread Safety:</a></b></dt><dd>This function is <a class="el" href="thread-safety.html#thread-safe">thread-safe</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>List of all available cameras </dd></dl>

</div>
</div>
<a id="abd8bfe0d85cedf2ec5c4549d05de7f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8bfe0d85cedf2ec5c4549d05de7f09">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcamera_1_1Camera.html">Camera</a> &gt; libcamera::CameraManager::get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a camera based on ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>ID of camera to get</td></tr>
  </table>
  </dd>
</dl>
<p>Before calling this function the caller is responsible for ensuring that the camera manager is running.</p>
<dl class="context"><dt><b><a class="el" href="context.html#_context000020">Thread Safety:</a></b></dt><dd>This function is <a class="el" href="thread-safety.html#thread-safe">thread-safe</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer to <a class="el" href="classlibcamera_1_1Camera.html" title="Camera device.">Camera</a> object or nullptr if camera not found </dd></dl>

</div>
</div>
<a id="a49e322880a2a26013bb0076788b298c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e322880a2a26013bb0076788b298c5">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int libcamera::CameraManager::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the camera manager. </p>
<p>Start the camera manager and enumerate all devices in the system. Once the start has been confirmed the user is free to list and otherwise interact with cameras in the system until either the camera manager is stopped or the camera is unplugged from the system.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a negative error code otherwise </dd></dl>

</div>
</div>
<a id="abcf2a1b9ca720891e6bd83b3c542bb61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf2a1b9ca720891e6bd83b3c542bb61">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libcamera::CameraManager::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the camera manager. </p>
<p>Before stopping the camera manager the caller is responsible for making sure all cameras provided by the manager are returned to the manager.</p>
<p>After the manager has been stopped no resource provided by the camera manager should be consider valid or functional even if they for one reason or another have yet to be deleted. </p>

</div>
</div>
<a id="a491b49c074dfc3c55e791b2b63437011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491b49c074dfc3c55e791b2b63437011">&#9670;&nbsp;</a></span>version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; libcamera::CameraManager::version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the libcamera version string. </p>
<dl class="context"><dt><b><a class="el" href="context.html#_context000021">Thread Safety:</a></b></dt><dd>This function is <em>threadsafe</em>. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The libcamera version string </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6c2071f9f9228348b5943c0de7234b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2071f9f9228348b5943c0de7234b21">&#9670;&nbsp;</a></span>cameraAdded</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::CameraManager::cameraAdded</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify of a new camera added to the system. </p>
<p>This signal is emitted when a new camera is detected and successfully handled by the camera manager. The notification occurs alike for cameras detected when the manager is started with <a class="el" href="classlibcamera_1_1CameraManager.html#a49e322880a2a26013bb0076788b298c5" title="Start the camera manager.">start()</a> or when new cameras are later connected to the system. When the signal is emitted the new camera is already available from the list of <a class="el" href="classlibcamera_1_1CameraManager.html#a3b20427687e9920b256625838bea8f9a" title="Retrieve all available cameras.">cameras()</a>.</p>
<p>The signal is emitted from the <a class="el" href="classlibcamera_1_1CameraManager.html" title="Provide access and manage all cameras in the system.">CameraManager</a> thread. Applications shall minimize the time spent in the signal handler and shall in particular not perform any blocking operation. </p>

</div>
</div>
<a id="a710506c6dde09353c702537cf6106b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710506c6dde09353c702537cf6106b90">&#9670;&nbsp;</a></span>cameraRemoved</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libcamera::CameraManager::cameraRemoved</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify of a new camera removed from the system. </p>
<p>This signal is emitted when a camera is removed from the system. When the signal is emitted the camera is not available from the list of <a class="el" href="classlibcamera_1_1CameraManager.html#a3b20427687e9920b256625838bea8f9a" title="Retrieve all available cameras.">cameras()</a> anymore.</p>
<p>The signal is emitted from the <a class="el" href="classlibcamera_1_1CameraManager.html" title="Provide access and manage all cameras in the system.">CameraManager</a> thread. Applications shall minimize the time spent in the signal handler and shall in particular not perform any blocking operation. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/libcamera/<a class="el" href="camera__manager_8h_source.html">camera_manager.h</a></li>
<li>src/libcamera/camera_manager.cpp</li>
<li>build/src/libcamera/version.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
