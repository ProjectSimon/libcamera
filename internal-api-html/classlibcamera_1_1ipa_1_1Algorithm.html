<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcamera: libcamera::ipa::Algorithm&lt; _Module &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcamera
   &#160;<span id="projectnumber">v0.3.2+rpt20241101+7-aa9d3ab4</span>
   </div>
   <div id="projectbrief">Supporting cameras in Linux since 2019</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcamera.html">libcamera</a></li><li class="navelem"><a class="el" href="namespacelibcamera_1_1ipa.html">ipa</a></li><li class="navelem"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">Algorithm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classlibcamera_1_1ipa_1_1Algorithm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">libcamera::ipa::Algorithm&lt; _Module &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The base class for all IPA algorithms.  
 <a href="classlibcamera_1_1ipa_1_1Algorithm.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for libcamera::ipa::Algorithm&lt; _Module &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classlibcamera_1_1ipa_1_1Algorithm__inherit__graph.png" border="0" usemap="#alibcamera_1_1ipa_1_1Algorithm_3_01__Module_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="alibcamera_1_1ipa_1_1Algorithm_3_01__Module_01_4_inherit__map" id="alibcamera_1_1ipa_1_1Algorithm_3_01__Module_01_4_inherit__map">
<area shape="rect" title="The base class for all IPA algorithms." alt="" coords="5,136,192,177"/>
<area shape="rect" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Af.html" title="An auto&#45;focus algorithm based on IPU3 statistics." alt="" coords="263,5,463,47"/>
<area shape="rect" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Agc.html" title="A mean&#45;based auto&#45;exposure algorithm." alt="" coords="258,71,469,112"/>
<area shape="rect" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1Awb.html" title="A Grey world white balance correction algorithm." alt="" coords="256,136,471,177"/>
<area shape="rect" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1BlackLevelCorrection.html" title="A class to handle black level correction." alt="" coords="240,202,487,258"/>
<area shape="rect" href="classlibcamera_1_1ipa_1_1ipu3_1_1algorithms_1_1ToneMapping.html" title="A class to handle tone mapping based on gamma." alt="" coords="266,282,461,338"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac52491716c9cd932770dc1a02d7d9b25"><td class="memItemLeft" align="right" valign="top"><a id="ac52491716c9cd932770dc1a02d7d9b25"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#ac52491716c9cd932770dc1a02d7d9b25">Module</a> = _Module</td></tr>
<tr class="memdesc:ac52491716c9cd932770dc1a02d7d9b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IPA module type for this class of algorithms. <br /></td></tr>
<tr class="separator:ac52491716c9cd932770dc1a02d7d9b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4baaa3e35c9d5bf452a8937c99f7aedb"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a4baaa3e35c9d5bf452a8937c99f7aedb">init</a> ([[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, [[maybe_unused]] const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;tuningData)</td></tr>
<tr class="memdesc:a4baaa3e35c9d5bf452a8937c99f7aedb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> with tuning data.  <a href="classlibcamera_1_1ipa_1_1Algorithm.html#a4baaa3e35c9d5bf452a8937c99f7aedb">More...</a><br /></td></tr>
<tr class="separator:a4baaa3e35c9d5bf452a8937c99f7aedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69b2793f3c31c578bb11536cfaa652b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#af69b2793f3c31c578bb11536cfaa652b">configure</a> ([[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, [[maybe_unused]] const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a7c0b7a42c526c07bafeca4018b38b8c9">Module::Config</a> &amp;configInfo)</td></tr>
<tr class="memdesc:af69b2793f3c31c578bb11536cfaa652b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> given an IPAConfigInfo.  <a href="classlibcamera_1_1ipa_1_1Algorithm.html#af69b2793f3c31c578bb11536cfaa652b">More...</a><br /></td></tr>
<tr class="separator:af69b2793f3c31c578bb11536cfaa652b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b022d6cd1b4423953e9600ca01548e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a61b022d6cd1b4423953e9600ca01548e">queueRequest</a> ([[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, [[maybe_unused]] const uint32_t frame, [[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, [[maybe_unused]] const <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;controls)</td></tr>
<tr class="memdesc:a61b022d6cd1b4423953e9600ca01548e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide control values to the algorithm.  <a href="classlibcamera_1_1ipa_1_1Algorithm.html#a61b022d6cd1b4423953e9600ca01548e">More...</a><br /></td></tr>
<tr class="separator:a61b022d6cd1b4423953e9600ca01548e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e216e20ff1634a1f56c162397b6d30d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#a0e216e20ff1634a1f56c162397b6d30d">prepare</a> ([[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, [[maybe_unused]] const uint32_t frame, [[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, [[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a48ee62113eed1c9ad7a001887dc59674">Module::Params</a> *params)</td></tr>
<tr class="memdesc:a0e216e20ff1634a1f56c162397b6d30d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill the <em>params</em> buffer with ISP processing parameters for a frame.  <a href="classlibcamera_1_1ipa_1_1Algorithm.html#a0e216e20ff1634a1f56c162397b6d30d">More...</a><br /></td></tr>
<tr class="separator:a0e216e20ff1634a1f56c162397b6d30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6c5e11591bdc6624b1c76ee4fdd008"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html#aea6c5e11591bdc6624b1c76ee4fdd008">process</a> ([[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;context, [[maybe_unused]] const uint32_t frame, [[maybe_unused]] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;frameContext, [[maybe_unused]] const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#afdcea0695dc0eb1226d66442a5647a41">Module::Stats</a> *stats, [[maybe_unused]] <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;metadata)</td></tr>
<tr class="memdesc:aea6c5e11591bdc6624b1c76ee4fdd008"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibcamera_1_1Process.html" title="Process object.">Process</a> ISP statistics, and run algorithm operations.  <a href="classlibcamera_1_1ipa_1_1Algorithm.html#aea6c5e11591bdc6624b1c76ee4fdd008">More...</a><br /></td></tr>
<tr class="separator:aea6c5e11591bdc6624b1c76ee4fdd008"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename _Module&gt;<br />
class libcamera::ipa::Algorithm&lt; _Module &gt;</h3>

<p>The base class for all IPA algorithms. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname"><a class="el" href="classlibcamera_1_1ipa_1_1Module.html" title="The base class for all IPA modules.">Module</a></td><td>The IPA module type for this class of algorithms</td></tr>
  </table>
  </dd>
</dl>
<p>The <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> class defines a standard interface for IPA algorithms compatible with the <em><a class="el" href="classlibcamera_1_1ipa_1_1Module.html" title="The base class for all IPA modules.">Module</a></em>. By abstracting algorithms, it makes possible the implementation of generic code to manage algorithms regardless of their specific type.</p>
<p>To specialize the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> class template, an IPA module shall specialize the <a class="el" href="classlibcamera_1_1ipa_1_1Module.html" title="The base class for all IPA modules.">Module</a> class template with module-specific context and configuration types, and pass the specialized <a class="el" href="classlibcamera_1_1ipa_1_1Module.html" title="The base class for all IPA modules.">Module</a> class as the <em><a class="el" href="classlibcamera_1_1ipa_1_1Module.html" title="The base class for all IPA modules.">Module</a></em> template argument. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af69b2793f3c31c578bb11536cfaa652b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af69b2793f3c31c578bb11536cfaa652b">&#9670;&nbsp;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Module &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm</a>&lt; _Module &gt;::configure </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a7c0b7a42c526c07bafeca4018b38b8c9">Module::Config</a> &amp;&#160;</td>
          <td class="paramname"><em>configInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> given an IPAConfigInfo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configInfo</td><td>The IPA configuration data, received from the pipeline handler</td></tr>
  </table>
  </dd>
</dl>
<p>Algorithms may implement a configure operation to pre-calculate parameters prior to commencing streaming.</p>
<p>Configuration state may be stored in the IPASessionConfiguration structure of the IPAContext.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, an error code otherwise </dd></dl>

</div>
</div>
<a id="a4baaa3e35c9d5bf452a8937c99f7aedb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4baaa3e35c9d5bf452a8937c99f7aedb">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Module &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm</a>&lt; _Module &gt;::init </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const <a class="el" href="classlibcamera_1_1YamlObject.html">YamlObject</a> &amp;&#160;</td>
          <td class="paramname"><em>tuningData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the <a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html" title="The base class for all IPA algorithms.">Algorithm</a> with tuning data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tuningData</td><td>The tuning data for the algorithm</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called once, when the IPA module is initialized, to initialize the algorithm. The <em>tuningData</em> <a class="el" href="classlibcamera_1_1YamlObject.html" title="A class representing the tree structure of the YAML content.">YamlObject</a> contains the tuning data for algorithm.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, an error code otherwise </dd></dl>

</div>
</div>
<a id="a0e216e20ff1634a1f56c162397b6d30d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e216e20ff1634a1f56c162397b6d30d">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Module &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm</a>&lt; _Module &gt;::prepare </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const uint32_t&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;&#160;</td>
          <td class="paramname"><em>frameContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a48ee62113eed1c9ad7a001887dc59674">Module::Params</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill the <em>params</em> buffer with ISP processing parameters for a frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>The frame context sequence number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameContext</td><td>The <a class="el" href="structlibcamera_1_1ipa_1_1FrameContext.html" title="Context for a frame.">FrameContext</a> for this frame </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">params</td><td>The ISP specific parameters</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called for every frame when the camera is running before it is processed by the ISP to prepare the ISP processing parameters for that frame.</p>
<p>Algorithms shall fill in the parameter structure fields appropriately to configure the ISP processing blocks that they are responsible for. This includes setting fields and flags that enable those processing blocks. </p>

</div>
</div>
<a id="aea6c5e11591bdc6624b1c76ee4fdd008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6c5e11591bdc6624b1c76ee4fdd008">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Module &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm</a>&lt; _Module &gt;::process </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const uint32_t&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;&#160;</td>
          <td class="paramname"><em>frameContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#afdcea0695dc0eb1226d66442a5647a41">Module::Stats</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibcamera_1_1Process.html" title="Process object.">Process</a> ISP statistics, and run algorithm operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>The frame context sequence number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameContext</td><td>The current frame's context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stats</td><td>The IPA statistics and ISP results </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">metadata</td><td>Metadata for the frame, to be filled by the algorithm</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called while camera is running for every frame processed by the ISP, to process statistics generated from that frame by the ISP. Algorithms shall use this data to run calculations, update their state accordingly, and fill the frame metadata.</p>
<p>Processing shall not take an undue amount of time, and any extended or computationally expensive calculations or operations must be handled asynchronously in a separate thread.</p>
<p>Algorithms can store state in their respective IPAFrameContext structures, and reference state from the IPAFrameContext of other algorithms.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Historical data may be required as part of the processing. Either the previous frame, or the IPAFrameContext state of the frame that generated the statistics for this operation may be required for some advanced algorithms to prevent oscillations or support control loops correctly. Only a single IPAFrameContext is available currently, and so any data stored may represent the results of the previously completed operations.</dd></dl>
<p>Care shall be taken to ensure the ordering of access to the information such that the algorithms use up to date state as required. </p>

</div>
</div>
<a id="a61b022d6cd1b4423953e9600ca01548e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b022d6cd1b4423953e9600ca01548e">&#9670;&nbsp;</a></span>queueRequest()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Module &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcamera_1_1ipa_1_1Algorithm.html">libcamera::ipa::Algorithm</a>&lt; _Module &gt;::queueRequest </td>
          <td>(</td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a2a12d05faa4f517f4dfcfa087063fd27">Module::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const uint32_t&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] typename <a class="el" href="classlibcamera_1_1ipa_1_1Module.html#a5a1bf7efd7811fb9da8ff311aeef3b1c">Module::FrameContext</a> &amp;&#160;</td>
          <td class="paramname"><em>frameContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[[maybe_unused] ] const <a class="el" href="classlibcamera_1_1ControlList.html">ControlList</a> &amp;&#160;</td>
          <td class="paramname"><em>controls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide control values to the algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The shared IPA context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>The frame number to apply the control values </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frameContext</td><td>The current frame's context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">controls</td><td>The list of user controls</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called for each request queued to the camera. It provides the controls stored in the request to the algorithm. The <em>frame</em> number is the <a class="el" href="classlibcamera_1_1Request.html" title="A frame capture request.">Request</a> sequence number and identifies the desired corresponding frame to target for the controls to take effect.</p>
<p>Algorithms shall read the applicable controls and store their value for later use during frame processing. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ipa/libipa/<a class="el" href="libipa_2algorithm_8h_source.html">algorithm.h</a></li>
<li>src/ipa/libipa/algorithm.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
